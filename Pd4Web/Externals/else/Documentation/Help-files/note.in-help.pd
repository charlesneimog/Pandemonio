#N canvas 394 76 562 575 10;
#X obj 23 40 cnv 4 4 4 empty empty Midi 0 28 2 18 #e0e0e0 #000000 0;
#X obj 65 40 cnv 4 4 4 empty empty pitch 0 28 2 18 #e0e0e0 #000000 0;
#X obj 3 3 cnv 15 301 42 empty empty note.in 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1 0 0;
#X restore 3 3 graph;
#X obj 2 272 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 2 359 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 2 510 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 2 546 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X text 207 520 -;
#X text 149 520 1) float;
#X text 170 285 float;
#X text 210 285 - raw MIDI data stream;
#X text 211 417 -;
#X text 171 417 float;
#X obj 110 40 cnv 4 4 4 empty empty input 0 28 2 18 #e0e0e0 #000000 0;
#X obj 112 368 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 210 369 -;
#X obj 306 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 100 100;
#X restore 305 3 pd;
#X obj 345 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 458 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 478 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 515 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 464 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 502 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#N canvas 758 154 445 276 channel 0;
#X msg 226 137 1;
#X msg 259 137 5;
#X text 289 137 <= channel;
#X msg 208 111 0;
#X text 236 111 <= omni;
#X text 16 12 An argument sets the channel number. If so \, only MIDI messages that correspond to that channel are sent. If no channel is given \, it loads "0" as the default and the object operates in omni mode \, where the objects outputs values from all channels and the channel number is output in the right outlet. You can also change the channel with the right inlet (0 sets to omni)., f 67;
#X obj 157 175 else/note.in;
#X obj 226 207 else/display;
#X obj 157 207 else/display;
#X text 41 112 Test your connected MIDI device., f 19;
#X connect 0 0 6 1;
#X connect 1 0 6 1;
#X connect 3 0 6 1;
#X connect 6 0 8 0;
#X connect 6 1 7 0;
#X restore 473 179 pd channel;
#X text 221 520 sets channel number (default 0 - OMNI);
#X text 210 333 -;
#X text 170 333 float;
#X text 225 333 MIDI channel, f 31;
#X obj 110 330 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 2 443 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X msg 218 145 144 \, 68 \, 120;
#X text 310 238 MIDI channel;
#X obj 112 416 cnv 17 3 17 empty empty r 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 112 452 -rel: -;
#X obj 287 235 else/display;
#X obj 218 235 else/display;
#X text 27 204 see also:;
#X obj 29 224 else/note.out;
#X obj 218 200 else/note.in;
#X msg 246 172 144 \, 69 \, 0;
#X text 160 232 Pitch & Velocity, f 8;
#X text 300 144 (raw MIDI data);
#X text 176 369 list;
#X text 226 417 MIDI channel;
#N canvas 418 85 741 587 release 0;
#X text 194 149 Note On (raw MIDI data);
#X text 218 190 Note Off (raw MIDI data);
#X obj 105 254 else/display;
#X text 422 385 Release velocity is very rare in today's controllers \, but it used to be a real thing., f 44;
#X text 544 213 Note On (raw MIDI data);
#X text 559 259 Note Off (raw MIDI data);
#X obj 455 319 else/display;
#X obj 560 319 else/display;
#X obj 174 254 else/display;
#X obj 455 290 else/note.in -both;
#X text 459 97 The '-both' flag outputs both note on and off velocities in a list. The 1st element is the pitch \, the 2nd is the on velocity and the 3rd is the off velocity., f 29;
#X msg 105 141 146 \, 68 \, 120;
#X msg 141 190 129 \, 68 \, 88;
#X msg 118 162 147 \, 68 \, 0;
#X text 578 321 <-- channel;
#X text 195 256 <-- channel;
#X text 207 367 Note On (raw MIDI data);
#X text 222 413 Note Off (raw MIDI data);
#X obj 217 472 else/display;
#X obj 118 544 else/display;
#X obj 118 444 else/note.in -rel;
#X obj 167 509 else/display;
#X msg 118 359 146 \, 68 \, 120;
#X msg 146 413 129 \, 68 \, 88;
#X msg 131 380 147 \, 68 \, 0;
#X text 238 475 <-- channel;
#X text 20 27 Nowadays \, MIDI Note Messages are basically just "Note On" messages \, and a velocity of 0 is considered a "Note Off" message. Nonetheless \, there's a special Note Off MIDI message which also carries a velocity (known as "release velocity). By default \, [note.in] only outputs 'Note On' messages \, where a velocity of zero is commonly considered a Note Off message. If it then receives a proper Note Off message with release velocity \, it gets converted to a '0' velocity.;
#X obj 105 226 else/note.in;
#X text 204 210 (release velocty 88 is zeroed);
#X text 41 308 The '-rel' flag creates a mid outlet to output only proper Note Off messages with release velocity., f 51;
#X msg 455 205 149 \, 68 \, 120;
#X msg 468 226 148 \, 68 \, 0;
#X msg 483 259 131 \, 68 \, 88;
#X connect 9 0 6 0;
#X connect 9 1 7 0;
#X connect 11 0 27 0;
#X connect 12 0 27 0;
#X connect 13 0 27 0;
#X connect 20 0 19 0;
#X connect 20 1 21 0;
#X connect 20 2 18 0;
#X connect 22 0 20 0;
#X connect 23 0 20 0;
#X connect 24 0 20 0;
#X connect 27 0 2 0;
#X connect 27 1 8 0;
#X connect 30 0 9 0;
#X connect 31 0 9 0;
#X connect 32 0 9 0;
#X restore 473 203 pd release velocity;
#X f 10;
#X text 159 452 creates a mid outlet to send note off messages, f 64;
#X text 106 468 -both: -;
#X text 159 468 sets the object to output both note on and off velocity, f 64;
#X text 211 392 -;
#X obj 112 391 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 176 392 list;
#X text 63 84 [note.in] extracts MIDI Pitch information from external "raw" MIDI data or an internally connected device. It deals with both NoteOn and NoteOff messages (with release velocity)., f 70;
#X text 225 369 pitch and velocity (for NoteOn or both);
#X text 226 392 pitch and note off velocity (for NoteOn or both);
#N canvas 653 199 427 384 external 0;
#X obj 175 221 else/midi;
#X obj 175 309 print;
#X msg 111 240 ext \$1;
#X obj 111 212 tgl 19 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0 1;
#X text 37 42 The object automatically listens to whatever is connected as a MIDI device in Pd. So it's like it has a built in [midiin] object feeding it. This is considered to be an "internal" source.;
#X obj 175 277 else/note.in;
#X text 37 96 The left inlet provides and "external" source of raw MIDI data input. This is needed if you have \, for instance \, the [midi] object from ELSE reading a MIDI file or something. If \, by any chance \, you just want the object to receive from this external source and not listen to the internal connected device \, you can use the '-ext' flag or 'ext' message \, to force only the external input.;
#X connect 0 0 5 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 5 0 1 0;
#X restore 467 238 pd external;
#X text 111 485 -ext: - only listen to external input source, f 72;
#X obj 110 282 cnv 17 3 42 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 134 303 ext <float>;
#X text 209 303 - non zero sets to listen only to external input source;
#X connect 32 0 40 0;
#X connect 40 0 37 0;
#X connect 40 1 36 0;
#X connect 41 0 40 0;
